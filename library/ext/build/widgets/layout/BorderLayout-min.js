/*
 * Ext JS Library 1.0
 * Copyright(c) 2006-2007, Ext JS, LLC.
 * licensing@extjs.com
 * 
 * http://www.extjs.com/license
 */

Ext.BorderLayout=function(_1,_2){_2=_2||{};Ext.BorderLayout.superclass.constructor.call(this,_1);this.factory=_2.factory||Ext.BorderLayout.RegionFactory;for(var i=0,_4=this.factory.validRegions.length;i<_4;i++){var _5=this.factory.validRegions[i];if(_2[_5]){this.addRegion(_5,_2[_5]);}}};Ext.extend(Ext.BorderLayout,Ext.LayoutManager,{addRegion:function(_6,_7){if(!this.regions[_6]){var r=this.factory.create(_6,this,_7);this.regions[_6]=r;r.on("visibilitychange",this.layout,this);r.on("paneladded",this.layout,this);r.on("panelremoved",this.layout,this);r.on("invalidated",this.layout,this);r.on("resized",this.onRegionResized,this);r.on("collapsed",this.onRegionCollapsed,this);r.on("expanded",this.onRegionExpanded,this);}return this.regions[_6];},layout:function(){if(this.updating){return;}var _9=this.getViewSize();var w=_9.width,h=_9.height;var _c=w,_d=h,_e=0,_f=0;var rs=this.regions;var n=rs["north"],s=rs["south"],_13=rs["west"],e=rs["east"],c=rs["center"];if(this.hideOnLayout){c.el.setStyle("display","none");}if(n&&n.isVisible()){var b=n.getBox();var m=n.getMargins();b.width=w-(m.left+m.right);b.x=m.left;b.y=m.top;_e=b.height+b.y+m.bottom;_d-=_e;n.updateBox(this.safeBox(b));}if(s&&s.isVisible()){var b=s.getBox();var m=s.getMargins();b.width=w-(m.left+m.right);b.x=m.left;var _18=(b.height+m.top+m.bottom);b.y=h-_18+m.top;_d-=_18;s.updateBox(this.safeBox(b));}if(_13&&_13.isVisible()){var b=_13.getBox();var m=_13.getMargins();b.height=_d-(m.top+m.bottom);b.x=m.left;b.y=_e+m.top;var _19=(b.width+m.left+m.right);_f+=_19;_c-=_19;_13.updateBox(this.safeBox(b));}if(e&&e.isVisible()){var b=e.getBox();var m=e.getMargins();b.height=_d-(m.top+m.bottom);var _19=(b.width+m.left+m.right);b.x=w-_19+m.left;b.y=_e+m.top;_c-=_19;e.updateBox(this.safeBox(b));}if(c){var m=c.getMargins();var _1a={x:_f+m.left,y:_e+m.top,width:_c-(m.left+m.right),height:_d-(m.top+m.bottom)};if(this.hideOnLayout){c.el.setStyle("display","block");}c.updateBox(this.safeBox(_1a));}this.el.repaint();this.fireEvent("layout",this);},safeBox:function(box){box.width=Math.max(0,box.width);box.height=Math.max(0,box.height);return box;},add:function(_1c,_1d){_1c=_1c.toLowerCase();return this.regions[_1c].add(_1d);},remove:function(_1e,_1f){_1e=_1e.toLowerCase();return this.regions[_1e].remove(_1f);},findPanel:function(_20){var rs=this.regions;for(var _22 in rs){if(typeof rs[_22]!="function"){var p=rs[_22].getPanel(_20);if(p){return p;}}}return null;},showPanel:function(_24){var rs=this.regions;for(var _26 in rs){var r=rs[_26];if(typeof r!="function"){if(r.hasPanel(_24)){return r.showPanel(_24);}}}return null;},restoreState:function(_28){if(!_28){_28=Ext.state.Manager;}var sm=new Ext.LayoutStateManager();sm.init(this,_28);},batchAdd:function(_2a){this.beginUpdate();for(var _2b in _2a){var lr=this.regions[_2b];if(lr){this.addTypedPanels(lr,_2a[_2b]);}}this.endUpdate();},addTypedPanels:function(lr,ps){if(typeof ps=="string"){lr.add(new Ext.ContentPanel(ps));}else{if(ps instanceof Array){for(var i=0,len=ps.length;i<len;i++){this.addTypedPanels(lr,ps[i]);}}else{if(!ps.events){var el=ps.el;delete ps.el;lr.add(new Ext.ContentPanel(el||Ext.id(),ps));}else{lr.add(ps);}}}}});Ext.BorderLayout.create=function(_32,_33){var _34=new Ext.BorderLayout(_33||document.body,_32);_34.beginUpdate();var _35=Ext.BorderLayout.RegionFactory.validRegions;for(var j=0,_37=_35.length;j<_37;j++){var lr=_35[j];if(_34.regions[lr]&&_32[lr].panels){var r=_34.regions[lr];var ps=_32[lr].panels;_34.addTypedPanels(r,ps);}}_34.endUpdate();return _34;};Ext.BorderLayout.RegionFactory={validRegions:["north","south","east","west","center"],create:function(_3b,mgr,_3d){_3b=_3b.toLowerCase();if(_3d.lightweight||_3d.basic){return new Ext.BasicLayoutRegion(mgr,_3d,_3b);}switch(_3b){case "north":return new Ext.NorthLayoutRegion(mgr,_3d);case "south":return new Ext.SouthLayoutRegion(mgr,_3d);case "east":return new Ext.EastLayoutRegion(mgr,_3d);case "west":return new Ext.WestLayoutRegion(mgr,_3d);case "center":return new Ext.CenterLayoutRegion(mgr,_3d);}throw "Layout region \""+_3b+"\" not supported.";}};
